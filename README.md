# Next.js Dashboard-app

공식 문서에서 제공하는 데모 웹사이트 만들기로, Next.js의 기초를 배우고 최신 기능을 모두 적용해보는 연습해보는 프로젝트 입니다.

- 스타일링
- 최적화
- 라우팅
- 데이터 가져오기
- 검색 및 페이지 나누기
- 데이터 변형
- 오류 처리
- 양식 검증 및 접근성
- 인증
- 메타데이터

## 레이아웃 및 페이지

- Layout

  - 여러 페이지에서 공통으로 유지되는 UI 구조를 정의
  - 페이지 전환 시, 유지되는 영역을 만들 때 주로 사용
  - app/layout.tsx 즉, RootLayout 에 추가하는 모든 UI는 애플리케이션의 모든 페이지에서 공유

- Page

  - 특정 URL 경로에 대응하는 실제 화면 콘텐츠
  - app/page.tsx 또는 app/[route]/page.tsx 와 같이 정의
  - 각 page.tsx 파일이 해당 경로의 페이지를 렌더링

## Link 와 a 태그의 차이점

- a 태그

  - 클릭 시 "새로고침" 하여 요청을 보냄

- Link 태그

  - Next.js의 클라이언트 사이드 라우팅을 지원하는 컴포넌트
  - 내부적으로는 `<a>` 태그를 감싸서 사용하지만, 페이지 이동 시 "새로고침 없이" 전환

### 자동 코드 분할 및 사전 페칭

- Next.js 는 경로별로 코드를 분할하면 페이지가 분리되어 특정 페이지에서 오류가 발생하더라도 나머지 애플리케이션은 계속 작동한다.

- 브라우저가 파싱해야 할 코드도 줄어들어 애플리케이션 속도가 향상된다.

- 프로덕션 환경에서는 `<Link>` 브라우저 뷰포트에 구성 요소가 나타날 때마다 Next.js가 자동으로 연결된 경로의 코드를 백그라운드에서 미리 가져와서 사용자가 링크를 클릭할 때쯤이면 대상 페이지의 코드가 이미 백그라운드에 로드되어 있어 페이지 전환이 거의 즉각적으로 이루어진다.

## 요청 워터폴(Request Waterfall)이란?

워터폴(폭포수)라는 표현은 네트워크 요청이나 함수 호출이 순차적으로 이어지는 방식을 비유한 것

- 특징

  - 여러 요청이 순서대로 실행됨

  - 다음 요청은 이전 요청이 완료되어야만 시작

  - 요청들이 병렬로 실행되지 않고, 직렬(Sequential)로 진행

- 예시:

  - 사용자 정보를 가져오는 요청

  - 그 사용자 정보로 친구 목록을 가져오는 요청

  - 친구 목록으로 각 친구의 최신 게시물을 가져오는 요청

  → 이 경우, 2번 요청은 1번이 완료된 후에만 시작할 수 있고, 3번 요청은 2번이 완료된 후에 시작한다

- 단점:

  - 요청이 많으면 전체 응답 속도가 느려질 수 있음 (순차적이기 때문)

- 대안:

  - 가능하다면 병렬(Parallel) 요청으로 바꿔서 동시에 실행하면 속도를 개선할 수 있음

즉, “요청 워터폴 = 이전 요청이 끝나야 다음 요청이 시작되는 순차적 요청 구조”

## 정적 및 동적 랜더링

정적 랜더링 (Static Rendering, SSG: Static Site Generation)

- 더 빠른 웹사이트 생성
- 서버 부하 감소
- SEO 향상

정적 랜더링은 미리 생성해둔 결과(캐시된 HTML)를 제공한다.

동적 랜더링 (Dynamic Rendering, SSR: Server-Side Rendering)

- 실시간 데이터
- 사용자별 콘텐츠 제공
- 요청 시간 정보 확인

동적 랜더링은 요청 시점에 데이터를 가져와 즉석에서 페이지를 만든다.

## 스트리밍

스트리밍은 경로를 더 작은 "조각"으로 나누고, 준비가 되면 서버에서 클라이언트로 점진적으로 스트리밍할 수 있는 데이터 전송 기술

### 스트리밍은 왜 사용할까?

스트리밍을 사용하면 느린 데이터 요청으로 인해 전체 페이지가 차단되는 것을 방지할 수 있다.

이를 통해 사용자는 모든 데이터가 로드될 때까지 기다리지 않고도 페이지의 특정 부분을 보고 상호작용할 수 있다.

이는, UI가 표시되기 때문이다.

### loading.tsx

React Suspense 기반으로 구축된 특수 Next.js 파일. 페이지 콘텐츠가 로드되는 동안 대체 UI를 표시할 수 있게 해준다.

### Suspense

비동기 처리(데이터 fetch, lazy 로딩 등)가 끝날 때까지 기다리는 동안 보여줄 대체 UI(fallback)를 지정하는 React의 기능.

```javascript
  <Suspense fallback={<대체해서 보여 줄 UI />}>
    <로딩이 완료되면 보여줄 본래 컴포넌트>
  </Suspense>
```
